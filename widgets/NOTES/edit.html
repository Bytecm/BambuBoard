<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Bambu Dash | Edit Note</title>
  <link rel="stylesheet" type="text/css" href="../styles.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <meta http-equiv="refresh" content="28800">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
    <h1>Edit Note</h1>
    <form id="noteForm">
        <textarea id="noteContent" rows="30" cols="60"></textarea><br>
        <button type="submit">Save Note</button>
    </form>

    <script>
        document.getElementById('noteForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            const content = document.getElementById('noteContent').value;
            const serverURL = window.location.hostname;
            try {
                const response = await fetch('http://' + serverURL + ':3000/note', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ content: content })
                });
                if (response.ok) {
                } else {
                    alert('Error saving note.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Error saving note.');
            }
        });
    </script>
</body>
</html>
